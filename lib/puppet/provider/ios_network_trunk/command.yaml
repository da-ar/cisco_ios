---
get_values:
  default: 'show interfaces <name> switchport'
get_interfaces_command:
  default: 'show running-config | include ^interface'
get_interfaces_get_value:
  default: '^.*interface (?<name>\S*)\\n'
get_instances:
  default: 'interface (?:(?:.| |\\n )*\\n)'
ensure_is_state:
  default: 'true'
attributes:
  ensure:
    default:
      get_value: '.*Switchport: Enabled\n'
      set_value: '<state> switchport'
      can_have_no_match: 'true'
    exclusions:
    - device: '2960'
  name:
    default:
      get_value: '^.*interface (?<name>\S*)\n'
      can_have_no_match: 'true'
  encapsulation:
    default:
      get_value: '.*(?:(?:Administrative Trunking Encapsulation: )(?:(?<encapsulation>[^\\n]*)\\n)).*'
      set_value: 'switchport trunk encapsulation <encapsulation>'
      can_have_no_match: 'true'
    exclusions:
    - device: '2960'
    - os_family: '(.*IOS-XE Software).*$'
  mode:
    default:
      get_value: '.*(?:(?:Administrative Mode: )(?:(?<mode>[^\\n]*)\\n)).*'
      set_value: 'switchport mode <mode>'
      can_have_no_match: 'false'
  untagged_vlan:
    default:
      get_value: '.*(?:(?:Trunking Native Mode VLAN: )(?:(?<untagged_vlan>.*) .*\\n)).*'
      set_value: 'switchport trunk native vlan <untagged_vlan>'
      can_have_no_match: 'true'
  #USAA 
  access_vlan:
    default:
      get_value: '.*(?:(?:Access Mode VLAN: )(?:(?<access_vlan>.*) .*\\n)).*'
      set_value: 'switchport access vlan <access_vlan>' # <1-4094>
      can_have_no_match: 'true'
  voice_vlan: # Only supported on access VLANs, https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst2960/software/release/12-2_40_se/configuration/guide/scg/swvoip.pdf
    default:
      get_value: '.*(?:(?:Voice VLAN: )(?:(?<voice_vlan>.*) .*\\n)).*'
      set_value: 'switchport voice vlan <voice_vlan>' # <1-4094, dot1p, none, untagged>
      can_have_no_match: 'true'
  # switchport_nonegotiate:
  #   default:
  #     get_value: '.*(?:(?:Negotiation of Trunking: )(?:(?<switchport_nonegotiate>.*) .*\\n)).*'
  #     set_value: 'switchport nonegotiate' # <cr>
  #     unset_value: 'no switchport nonegotiate' # <cr>
  #     can_have_no_match: 'false'
  #Schneider
  # allowed_vlans:
  #   default:
  #     get_value: '.*(?:(?:Trunking VLANs Enabled: )(?:(?<allowed_vlans>.*) .*\\n)).*'
  #     set_value: 'switchport trunk allowed vlan <allowed_vlans>' # <WORD, add, all, except, none, remove>
  #     can_have_no_match: 'true'